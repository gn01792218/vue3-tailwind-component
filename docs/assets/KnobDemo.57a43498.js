import{u as j}from"./useComponentControl.6d96522d.js";import{j as d,y as z,l as B,d as F,z as O,k as K,o as A,c as I,i as l,t as m,u,b as g,a as w}from"./vendor.76d7e5fe.js";function V(){const{addKnob:_}=j(),k=_(),o=d({min:0,max:100,innerSize:{width:"50px",height:"50px"},outerSize:{width:"100px",height:"100px"},outerColorStyle:{backgroundColor:"gray",color:"green",barColor:"green"},innerColorStyle:{backgroundColor:"blue",color:"black"},textSize:"16px"}),s=z(()=>o.value.max),r=z(()=>o.value.min),b=z(()=>s.value-r.value),t=d(r.value),n=z(()=>t.value);B(r,()=>{t.value=r.value,console.log("\u6700\u5C0F\u503C\u767C\u751F\u8B8A\u5316",r.value,"count\u8B8A\u6210",t.value)});function p(e){e.min&&(o.value.min=e.min),e.max&&(o.value.max=e.max),e.innerColorStyle&&(o.value.innerColorStyle=e.innerColorStyle),e.outerColorStyle&&(o.value.outerColorStyle=e.outerColorStyle),e.innerSize&&(o.value.innerSize=e.innerSize),e.outerSize&&(o.value.outerSize=e.outerSize),e.textSize&&o.value.innerColorStyle&&(o.value.innerColorStyle.color=e.textSize)}function x(e,a){f(e,a),i(e,a),h(a)}function h(e){const a=o.value.textSize;e.style.fontSize=a}function f(e,a){const v=o.value.innerColorStyle,C=o.value.outerColorStyle,y=C==null?void 0:C.backgroundColor,S=C==null?void 0:C.barColor;a.style.backgroundColor=v==null?void 0:v.backgroundColor,a.style.color=v==null?void 0:v.color,e.style.background=`conic-gradient(${S} 0, ${S} 0%, ${y} 0%, ${y})`}function i(e,a){var v,C,y,S;e.style.width=(v=o.value.outerSize)==null?void 0:v.width,e.style.height=(C=o.value.outerSize)==null?void 0:C.height,a.style.width=(y=o.value.innerSize)==null?void 0:y.width,a.style.height=(S=o.value.innerSize)==null?void 0:S.height}function c(e,a){var S,N;if(n.value<r.value||n.value>s.value)return;t.value+=e,n.value+e<r.value&&(t.value+=r.value-n.value),n.value+e>s.value&&(t.value+=s.value-n.value);const v=(S=o.value.outerColorStyle)==null?void 0:S.backgroundColor,C=(N=o.value.outerColorStyle)==null?void 0:N.barColor,y=Math.floor((n.value-r.value)/b.value*100);a.style.background=`conic-gradient(${C} 0, ${C} ${y}%, ${v} 0%, ${v})`,console.log("\u6700\u5C0F\u503C",r.value,"\u6700\u5927\u503C",s.value,"\u986F\u793A\u6578\u5B57",n.value,"\u6BD4\u4F8B",y,"\u6BD4\u4F8B\u9577\u5EA6",b.value,"\u8A08\u6578\u5668",t.value)}return{setKnobValue:c,displayCount:n,loadKnobOption:p,id:k,max:s,knobOptionObj:o,setKnobStyle:x}}const q=["id"],D=["id"],$=F({props:{addNum:null,knobOption:null},emits:["isCompleted"],setup(_,{emit:k}){const o=_,s=d(null),r=d(null),{loadKnobOption:b,displayCount:t,setKnobValue:n,id:p,max:x,setKnobStyle:h}=V();o.knobOption&&b(o.knobOption);const{addNum:f}=O(o),i=d(!1);B(f,()=>{let e=x.value;t.value>e+1||(s.value&&n(o.addNum.addnum,s.value),c())});function c(){let e=x.value;if(t.value<e){i.value=!1;let a={id:p,isCompleted:i.value};k("isCompleted",a);return}if(t.value==e&&!i.value){i.value=!0;let a={id:p,isCompleted:i.value};k("isCompleted",a)}}return K(()=>{s.value&&r.value&&h(s.value,r.value)}),(e,a)=>(A(),I("div",{id:`circle-knob-${u(p)}`,ref_key:"circleKnob",ref:s,class:"circle-progress relative flex justify-center items-center"},[l("div",{id:`circle-knob-inner-${u(p)}`,ref_key:"circleKnobInner",ref:r,class:"circle-progress-inner absolute flex justify-center items-center"},m(u(t)),9,D)],8,q))}}),M={class:"w-1/2 mr-auto ml-auto"},T=l("h2",{class:"text-center text-2xl"},"knob\u5C55\u793A\u5340",-1),E=l("h3",null,[l("i",{class:"bi bi-trophy-fill"}),g("\u5713\u5F62knob")],-1),R={class:"flex"},G={class:"m-5"},H=l("i",{class:"bi bi-check2-square"},null,-1),J={class:"m-5"},L=l("i",{class:"bi bi-check2-square"},null,-1),P=l("i",{class:"bi bi-check2-square"},null,-1),Q=l("h3",null,[l("i",{class:"bi bi-trophy-fill"}),g("\u5C0F\u61C9\u7528")],-1),U=l("i",{class:"bi bi-check2-square"},null,-1),Y=F({setup(_){const k=d(!1),o=d(!1),s=d(!1),r=d(!1);let b=d({addnum:0,min:0,max:50}),t=d({addnum:0,min:10,max:100}),n=d({addnum:0,min:10,max:30}),p=d({min:20,max:30}),x=d({addnum:0});K(()=>{setInterval(()=>{b.value={addnum:1,min:0,max:50}},100),setInterval(()=>{t.value={addnum:1,min:10,max:100}},50),setInterval(()=>{n.value={addnum:1,min:20,max:30}},500)});function h(i){switch(i.id){case"0":k.value=i.isCompleted;break;case"1":o.value=i.isCompleted;break;case"2":s.value=i.isCompleted;break;case"3":r.value=i.isCompleted;break}}function f(i){switch(i){case"+1":x.value={addnum:1};break;case"+2":x.value={addnum:2};break;case"+5":x.value={addnum:5};break;case"-2":x.value={addnum:-2};break;case"-1":x.value={addnum:-1};break}}return(i,c)=>(A(),I("section",M,[T,l("div",null,[E,l("div",R,[l("div",G,[l("p",null,[H,g("\u5B8C\u6210\u9032\u5EA6\u5426 : "+m(k.value),1)]),l("p",null,"\u6700\u5C0F\u503C: "+m(u(b).min)+" \u6700\u5927\u503C : "+m(u(b).max),1),w($,{class:"m-6",onIsCompleted:h,addNum:u(b),knobOption:{min:u(b).min,max:u(b).max,innerColorStyle:{color:"yellow",backgroundColor:"blue"}}},null,8,["addNum","knobOption"])]),l("div",J,[l("p",null,[L,g("\u5B8C\u6210\u9032\u5EA6\u5426 : "+m(o.value),1)]),l("p",null,"\u6700\u5C0F\u503C: "+m(u(t).min)+" \u6700\u5927\u503C : "+m(u(t).max),1),w($,{class:"m-10",onIsCompleted:h,addNum:u(t),knobOption:{min:u(t).min,max:u(t).max,outerColorStyle:{color:"yellow",barColor:"red",backgroundColor:"yellow"},innerColorStyle:{color:"white",backgroundColor:"gray"},innerSize:{width:"100px",height:"100px"},outerSize:{width:"200px",height:"50px"}}},null,8,["addNum","knobOption"])]),l("div",null,[l("p",null,[P,g("\u5B8C\u6210\u9032\u5EA6\u5426 : "+m(s.value),1)]),l("p",null,"\u6700\u5C0F\u503C: "+m(u(n).min)+" \u6700\u5927\u503C : "+m(u(n).max),1),w($,{onIsCompleted:h,addNum:u(n),knobOption:{min:u(n).min,max:u(n).max,outerColorStyle:{color:"gray",barColor:"white",backgroundColor:"palegoldenrod"},outerSize:{width:"300px",height:"300px"},innerSize:{width:"200px",height:"200px"},textSize:"7rem"}},null,8,["addNum","knobOption"])])])]),l("div",null,[Q,l("p",null,[U,g("\u5B8C\u6210\u9032\u5EA6\u5426 : "+m(r.value),1)]),l("p",null,"\u6700\u5C0F\u503C: "+m(u(p).min)+" \u6700\u5927\u503C : "+m(u(p).max),1),w($,{onIsCompleted:h,addNum:u(x),knobOption:{min:u(p).min,max:u(p).max}},null,8,["addNum","knobOption"]),l("button",{class:"mr-5 border-black border-solid border-2",onClick:c[0]||(c[0]=e=>f("+5"))}," +5 "),l("button",{class:"mr-5 border-black border-solid border-2",onClick:c[1]||(c[1]=e=>f("+2"))}," +2 "),l("button",{class:"mr-5 border-black border-solid border-2",onClick:c[2]||(c[2]=e=>f("-2"))}," -2 "),l("button",{class:"mr-5 border-black border-solid border-2",onClick:c[3]||(c[3]=e=>f("-1"))}," -1 "),l("button",{class:"mr-5 border-black border-solid border-2",onClick:c[4]||(c[4]=e=>f("+1"))}," +1 ")])]))}});export{Y as default};
