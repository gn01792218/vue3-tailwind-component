import{u as q,_ as z,D as $}from"./useComponentControl.f4158197.js";import{j as r,y as w,q as K,e as F,z as O,p as N,o as j,c as D,b as l,t as m,u as t,d as _,a as y}from"./vendor.92b719df.js";function V(){const{addKnob:B}=q(),S=B(),o=r({min:0,max:100,innerSize:{width:"50px",height:"50px"},outerSize:{width:"100px",height:"100px"},outerColorStyle:{backgroundColor:"gray",color:"green",barColor:"green"},innerColorStyle:{backgroundColor:"blue",color:"black"},textSize:"16px"}),s=w(()=>o.value.max),i=w(()=>o.value.min),v=w(()=>s.value-i.value),c=r(i.value),d=w(()=>c.value);K(i,()=>{c.value=i.value,console.log("\u6700\u5C0F\u503C\u767C\u751F\u8B8A\u5316",i.value,"count\u8B8A\u6210",c.value)});function f(e){e.min&&(o.value.min=e.min),e.max&&(o.value.max=e.max),e.innerColorStyle&&(o.value.innerColorStyle=e.innerColorStyle),e.outerColorStyle&&(o.value.outerColorStyle=e.outerColorStyle),e.innerSize&&(o.value.innerSize=e.innerSize),e.outerSize&&(o.value.outerSize=e.outerSize),e.textSize&&o.value.innerColorStyle&&(o.value.innerColorStyle.color=e.textSize)}function g(e,n){h(e,n),C(e,n),p(n)}function p(e){const n=o.value.textSize;e.style.fontSize=n}function h(e,n){const u=o.value.innerColorStyle,a=o.value.outerColorStyle,b=a==null?void 0:a.backgroundColor,k=a==null?void 0:a.barColor;n.style.backgroundColor=u==null?void 0:u.backgroundColor,n.style.color=u==null?void 0:u.color,e.style.background=`conic-gradient(${k} 0, ${k} 0%, ${b} 0%, ${b})`}function C(e,n){var u,a,b,k;e.style.width=(u=o.value.outerSize)==null?void 0:u.width,e.style.height=(a=o.value.outerSize)==null?void 0:a.height,n.style.width=(b=o.value.innerSize)==null?void 0:b.width,n.style.height=(k=o.value.innerSize)==null?void 0:k.height}function x(e,n){var k,A;if(d.value<i.value||d.value>s.value)return;c.value+=e,d.value+e<i.value&&(c.value+=i.value-d.value),d.value+e>s.value&&(c.value+=s.value-d.value);const u=(k=o.value.outerColorStyle)==null?void 0:k.backgroundColor,a=(A=o.value.outerColorStyle)==null?void 0:A.barColor,b=Math.floor((d.value-i.value)/v.value*100);n.style.background=`conic-gradient(${a} 0, ${a} ${b}%, ${u} 0%, ${u})`}return{setKnobValue:x,displayCount:d,loadKnobOption:f,id:S,max:s,knobOptionObj:o,setKnobStyle:g}}const M=["id"],T=["id"],I=F({props:{addNum:null,knobOption:null},emits:["isCompleted"],setup(B,{emit:S}){const o=B,s=r(null),i=r(null),{loadKnobOption:v,displayCount:c,setKnobValue:d,id:f,max:g,setKnobStyle:p}=V();o.knobOption&&v(o.knobOption);const{addNum:h}=O(o),C=r(!1);K(h,()=>{let e=g.value;c.value>e+1||(s.value&&d(o.addNum.addnum,s.value),x())});function x(){let e=g.value;if(c.value<e){C.value=!1;let n={id:f,isCompleted:C.value};S("isCompleted",n);return}if(c.value==e&&!C.value){C.value=!0;let n={id:f,isCompleted:C.value};S("isCompleted",n)}}return N(()=>{s.value&&i.value&&p(s.value,i.value)}),(e,n)=>(j(),D("div",{id:`circle-knob-${t(f)}`,ref_key:"circleKnob",ref:s,class:"relative flex justify-center items-center rounded-[50%]"},[l("div",{id:`circle-knob-inner-${t(f)}`,ref_key:"circleKnobInner",ref:i,class:"absolute flex justify-center items-center rounded-[50%]"},m(t(c)),9,T)],8,M))}}),R={class:"w-1/2 mr-auto ml-auto"},G=l("h2",{class:"text-center text-2xl"},"knob\u5C55\u793A\u5340",-1),H=l("h3",null,[l("i",{class:"bi bi-trophy-fill"}),_("\u5713\u5F62knob")],-1),J={class:"flex"},L={class:"m-5"},P=l("i",{class:"bi bi-check2-square"},null,-1),Q={class:"m-5"},U=l("i",{class:"bi bi-check2-square"},null,-1),W=l("i",{class:"bi bi-check2-square"},null,-1),X=l("h3",null,[l("i",{class:"bi bi-trophy-fill"}),_("\u5C0F\u61C9\u7528")],-1),Y=l("i",{class:"bi bi-check2-square"},null,-1),Z={class:"flex justify-start mt-2"},le=F({setup(B){const S=r(!1),o=r(!1),s=r(!1),i=r(!1);let v=r({addnum:0,min:0,max:50});const c=r(),d=r(),f=r(),g=r();N(()=>{});let p=r({addnum:0,min:10,max:100}),h=r({addnum:0,min:10,max:30}),C=r({min:20,max:30}),x=r({addnum:0});N(()=>{setInterval(()=>{v.value={addnum:1,min:0,max:50}},100),setInterval(()=>{p.value={addnum:1,min:10,max:100}},50),setInterval(()=>{h.value={addnum:1,min:20,max:30}},500)});function e(u){switch(u.id){case"0":S.value=u.isCompleted,u.isCompleted&&c.value.setChecked(u.isCompleted);break;case"1":o.value=u.isCompleted,u.isCompleted&&d.value.setChecked(u.isCompleted);break;case"2":s.value=u.isCompleted,u.isCompleted&&f.value.setChecked(u.isCompleted);break;case"3":i.value=u.isCompleted,g.value.setChecked(u.isCompleted);break}}function n(u){switch(u){case"+1":x.value={addnum:1};break;case"+2":x.value={addnum:2};break;case"+5":x.value={addnum:5};break;case"-2":x.value={addnum:-2};break;case"-1":x.value={addnum:-1};break}}return(u,a)=>(j(),D("section",R,[G,l("div",null,[H,l("div",J,[l("div",L,[l("p",null,[P,_("\u5B8C\u6210\u9032\u5EA6\u5426 : "+m(S.value),1)]),l("p",null,"\u6700\u5C0F\u503C: "+m(t(v).min)+" \u6700\u5927\u503C : "+m(t(v).max),1),y(I,{class:"m-6",onIsCompleted:e,addNum:t(v),knobOption:{min:t(v).min,max:t(v).max,innerColorStyle:{color:"yellow",backgroundColor:"blue"}}},null,8,["addNum","knobOption"]),y(z,{ref_key:"count1CheckBox",ref:c,checkBoxItem:{labelDir:t($).right,labelStr:"\u5B8C\u6210\u9032\u5EA6",value:"",style:{backgroundColor:"red",color:"black"}}},null,8,["checkBoxItem"])]),l("div",Q,[l("p",null,[U,_("\u5B8C\u6210\u9032\u5EA6\u5426 : "+m(o.value),1)]),l("p",null,"\u6700\u5C0F\u503C: "+m(t(p).min)+" \u6700\u5927\u503C : "+m(t(p).max),1),y(I,{class:"m-10",onIsCompleted:e,addNum:t(p),knobOption:{min:t(p).min,max:t(p).max,outerColorStyle:{color:"yellow",barColor:"red",backgroundColor:"yellow"},innerColorStyle:{color:"white",backgroundColor:"gray"},innerSize:{width:"100px",height:"100px"},outerSize:{width:"200px",height:"50px"}}},null,8,["addNum","knobOption"]),y(z,{ref_key:"count2CheckBox",ref:d,checkBoxItem:{labelDir:t($).right,labelStr:"\u5B8C\u6210\u9032\u5EA6",value:"",style:{backgroundColor:"green",color:"black"}}},null,8,["checkBoxItem"])]),l("div",null,[l("p",null,[W,_("\u5B8C\u6210\u9032\u5EA6\u5426 : "+m(s.value),1)]),l("p",null,"\u6700\u5C0F\u503C: "+m(t(h).min)+" \u6700\u5927\u503C : "+m(t(h).max),1),y(I,{onIsCompleted:e,addNum:t(h),knobOption:{min:t(h).min,max:t(h).max,outerColorStyle:{color:"gray",barColor:"white",backgroundColor:"palegoldenrod"},outerSize:{width:"300px",height:"300px"},innerSize:{width:"200px",height:"200px"},textSize:"7rem"}},null,8,["addNum","knobOption"]),y(z,{ref_key:"count3CheckBox",ref:f,checkBoxItem:{labelDir:t($).right,labelStr:"\u5B8C\u6210\u9032\u5EA6",value:"",style:{backgroundColor:"darkgoldenrod",color:"black"}}},null,8,["checkBoxItem"])])])]),l("div",null,[X,l("p",null,[Y,_("\u5B8C\u6210\u9032\u5EA6\u5426 : "+m(i.value),1)]),l("p",null,"\u6700\u5C0F\u503C: "+m(t(C).min)+" \u6700\u5927\u503C : "+m(t(C).max),1),y(I,{class:"mb-5",onIsCompleted:e,addNum:t(x),knobOption:{min:t(C).min,max:t(C).max}},null,8,["addNum","knobOption"]),l("button",{class:"mr-5 border-black border-solid border-2 rounded-full p-2",onClick:a[0]||(a[0]=b=>n("+5"))}," +5 "),l("button",{class:"mr-5 border-black border-solid border-2 rounded-full p-2",onClick:a[1]||(a[1]=b=>n("+2"))}," +2 "),l("button",{class:"mr-5 border-black border-solid border-2 rounded-full p-2",onClick:a[2]||(a[2]=b=>n("-2"))}," -2 "),l("button",{class:"mr-5 border-black border-solid border-2 rounded-full p-2",onClick:a[3]||(a[3]=b=>n("-1"))}," -1 "),l("button",{class:"mr-5 border-black border-solid border-2 rounded-full p-2",onClick:a[4]||(a[4]=b=>n("+1"))}," +1 "),l("div",Z,[y(z,{ref_key:"count4CheckBox",ref:g,checkBoxItem:{labelDir:t($).right,labelStr:"\u5B8C\u6210\u9032\u5EA6",value:"",style:{backgroundColor:"darkgoldenrod",color:"black"}}},null,8,["checkBoxItem"])])])]))}});export{le as default};
